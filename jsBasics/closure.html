<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>闭包</title>
</head>
<body>
    
</body>
<script>
    
    function closure(){
        var a = 1
        return function innerClosure(){
            a++;
            console.log(a)
        }
    }
    closure()()  //2
    closure()()  //2   执行完closure就被销毁，每次执行都是新的

    var closure2 = closure()
    closure2()  //2
    closure2()  //3    是一个引用所以即使执行结束，也不会释放内存   需要将closure = null 才会被释放内存

    //循环中将数字9 8 7 6 5 4 3 2 1顺序执行
    for(var i = 0; i < 10; i++){
        setTimeout(function(i){
            return function(){
                console.log(i)
            }
        }(i),100)
    }
    
</script>
</html>